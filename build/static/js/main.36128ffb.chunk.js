(this.webpackJsonpourmusic=this.webpackJsonpourmusic||[]).push([[1],{108:function(e,t,c){var s={"./ion-action-sheet.entry.js":[171,5],"./ion-alert.entry.js":[172,6],"./ion-app_8.entry.js":[173,7],"./ion-avatar_3.entry.js":[174,17],"./ion-back-button.entry.js":[175,18],"./ion-backdrop.entry.js":[176,43],"./ion-button_2.entry.js":[177,19],"./ion-card_5.entry.js":[178,20],"./ion-checkbox.entry.js":[179,21],"./ion-chip.entry.js":[180,22],"./ion-col_3.entry.js":[181,44],"./ion-datetime_3.entry.js":[182,10],"./ion-fab_3.entry.js":[183,23],"./ion-img.entry.js":[184,45],"./ion-infinite-scroll_2.entry.js":[185,46],"./ion-input.entry.js":[186,24],"./ion-item-option_3.entry.js":[187,25],"./ion-item_8.entry.js":[188,26],"./ion-loading.entry.js":[189,27],"./ion-menu_3.entry.js":[190,28],"./ion-modal.entry.js":[191,8],"./ion-nav_2.entry.js":[192,14],"./ion-popover.entry.js":[193,9],"./ion-progress-bar.entry.js":[194,29],"./ion-radio_2.entry.js":[195,30],"./ion-range.entry.js":[196,31],"./ion-refresher_2.entry.js":[197,11],"./ion-reorder_2.entry.js":[198,16],"./ion-ripple-effect.entry.js":[199,47],"./ion-route_4.entry.js":[200,32],"./ion-searchbar.entry.js":[201,33],"./ion-segment_2.entry.js":[202,34],"./ion-select_3.entry.js":[203,35],"./ion-slide_2.entry.js":[204,48],"./ion-spinner.entry.js":[205,13],"./ion-split-pane.entry.js":[206,49],"./ion-tab-bar_2.entry.js":[207,36],"./ion-tab_2.entry.js":[208,15],"./ion-text.entry.js":[209,37],"./ion-textarea.entry.js":[210,38],"./ion-toast.entry.js":[211,39],"./ion-toggle.entry.js":[212,12],"./ion-virtual-scroll.entry.js":[213,50]};function n(e){if(!c.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return c.e(t[1]).then((function(){return c(n)}))}n.keys=function(){return Object.keys(s)},n.id=108,e.exports=n},110:function(e,t,c){var s={"./ion-icon.entry.js":[214,57]};function n(e){if(!c.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return c.e(t[1]).then((function(){return c(n)}))}n.keys=function(){return Object.keys(s)},n.id=110,e.exports=n},119:function(e,t,c){},169:function(e,t,c){"use strict";c.r(t);var s,n,j=c(2),i=c.n(j),r=c(39),l=c.n(r),a=c(4),d=c.n(a),o=c(13),b=c(5),h=c(23),x=c(1),O=c(96),u=(c(115),c(116),c(117),c(118),c(119),c(36),c(33)),p=c(31),m=c.n(p),y=c(34),f=c(0),w=y.a.div(s||(s=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-top: 30vh;\n  background-color: black;\n  width: 100vw;\n  height: 100vh;\n  top: 50 vh;\n  align-self: center;\n  justify-self: center;\n"]))),g=function(){var e=Object(j.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],n=Object(j.useState)(""),i=Object(b.a)(n,2),r=i[0],l=i[1],a=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("https://capstonebe.herokuapp.com/login",{username:c,password:r},{withCredentials:!0});case 3:200===e.sent.status&&window.location.assign("/discover");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(w,{style:{position:"absolute",height:"100vh",zIndex:10},children:Object(f.jsxs)("form",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},onSubmit:function(e){a(e)},children:[Object(f.jsxs)(x.r,{style:{borderRadius:"10px",marginBottom:"5px"},children:[Object(f.jsx)(x.s,{children:"Username : "}),Object(f.jsx)(x.q,{type:"text",value:c,placeholder:"Enter Number",onIonChange:function(e){return s(e.detail.value)}})]}),Object(f.jsxs)(x.r,{style:{borderRadius:"10px",marginBottom:"5px"},children:[Object(f.jsx)(x.s,{children:"Password : "}),Object(f.jsx)(x.q,{type:"password",value:r,placeholder:"Enter Number",onIonChange:function(e){return l(e.detail.value)}})]}),Object(f.jsx)(x.d,{type:"submit",children:"Sign in"})]})})})},v=y.a.div(n||(n=Object(u.a)(["\n  background-color: black;\n  display: flex;\n  flex-direction: column;\n  padding-top: 30vh;\n\n  width: 100vw;\n  height: 100vh;\n  top: 50 vh;\n  align-self: center;\n  justify-self: center;\n"]))),E=function(){var e=Object(j.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],n=Object(j.useState)(""),i=Object(b.a)(n,2),r=i[0],l=i[1],a=Object(j.useState)(""),h=Object(b.a)(a,2),O=h[0],u=h[1],p=Object(j.useState)(""),y=Object(b.a)(p,2),w=y[0],g=y[1],E=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("https://capstonebe.herokuapp.com/register",{email:r,phone:O,password:w,username:c},{withCredentials:!0});case 3:200===e.sent.status&&window.location.assign("/discover");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(v,{style:{position:"absolute",height:"100vh",zIndex:10},children:Object(f.jsxs)("form",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},onSubmit:function(e){E(e)},children:[Object(f.jsx)(x.r,{style:{borderRadius:"10px",marginBottom:"5px",width:"350px"},children:Object(f.jsxs)("div",{children:[Object(f.jsx)(x.s,{style:{paddingTop:"10px"},children:"Phone : "}),Object(f.jsx)(x.q,{type:"text",value:O,placeholder:"your phone here(optional)",onIonChange:function(e){return u(e.detail.value)}}),Object(f.jsx)(x.s,{style:{paddingTop:"10px"},children:"Username : "}),Object(f.jsx)(x.q,{type:"text",value:c,placeholder:"your username here",onIonChange:function(e){return s(e.detail.value)}}),Object(f.jsx)(x.s,{style:{paddingTop:"10px"},children:"Username : "}),Object(f.jsx)(x.q,{type:"text",value:r,placeholder:"your email here",onIonChange:function(e){return l(e.detail.value)}}),Object(f.jsx)(x.s,{style:{paddingTop:"10px"},children:"Password : "}),Object(f.jsx)(x.q,{type:"password",value:w,placeholder:"8 characters ore more",onIonChange:function(e){return g(e.detail.value)}})]})}),Object(f.jsx)(x.d,{type:"submit",children:"Sign up"})]})})})},C=Object(j.createContext)(),k=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(f.jsx)(C.Provider,{value:Object(j.useReducer)(t,c),children:s})},S=function(){return Object(j.useContext)(C)},I=c(6),_=c(100),T=c.n(_),D="light"===document.body.classList.value;document.body.classList.add("dark");var B,N,R=function(e){var t=Object(j.useState)(!1),c=Object(b.a)(t,2),s=c[0],n=c[1];return Object(f.jsx)(x.v,{isOpen:e.modalShow,cssClass:"settings-modal",backdropDismiss:!1,children:Object(f.jsxs)(x.l,{style:{backgroundColor:"".concat(e.chatBackgroundColor)},children:[Object(f.jsx)(x.n,{style:{position:"fixed",top:0,backgroundColor:"black"},children:Object(f.jsx)(x.I,{color:"primary",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e Theme"})})}),Object(f.jsxs)("div",{className:"modalContainer",children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.I,{slot:"start",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e Light/Dark"})}),Object(f.jsx)(x.o,{slot:"end",icon:s?I.z:I.o}),Object(f.jsx)(x.L,{checked:s,slot:"end",name:"darkMode",onIonChange:function(){n(!s);D?document.body.classList.toggle("dark"):document.body.classList.toggle("light")}})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.I,{slot:"start",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e Bubbles"})}),Object(f.jsxs)(x.C,{onIonChange:function(t){return e.setMessageTheme(t.detail.value)},value:e.messageTheme,children:[Object(f.jsx)(x.D,{value:"primary",children:Object(f.jsx)(x.o,{icon:I.e,color:"primary"})}),Object(f.jsx)(x.D,{value:"secondary",children:Object(f.jsx)(x.o,{icon:I.e,color:"secondary"})}),Object(f.jsx)(x.D,{value:"tertiary",children:Object(f.jsx)(x.o,{icon:I.e,color:"tertiary"})}),Object(f.jsx)(x.D,{value:"dark",children:Object(f.jsx)(x.o,{icon:I.e,color:"dark"})}),Object(f.jsx)(x.D,{value:"light",children:Object(f.jsx)(x.o,{icon:I.e,color:"light"})})]})]}),Object(f.jsx)(x.r,{children:Object(f.jsxs)(x.C,{onIonChange:function(t){return e.setMessageTheme(t.detail.value)},value:e.messageTheme,children:[Object(f.jsx)(x.D,{value:"grey",children:Object(f.jsx)(x.o,{icon:I.e,color:"grey"})}),Object(f.jsx)(x.D,{value:"warning",children:Object(f.jsx)(x.o,{icon:I.e,color:"warning"})}),Object(f.jsx)(x.D,{value:"medium",children:Object(f.jsx)(x.o,{icon:I.e,color:"medium"})}),Object(f.jsx)(x.D,{value:"danger",children:Object(f.jsx)(x.o,{icon:I.e,color:"danger"})})]})}),Object(f.jsxs)(x.r,{style:{height:"150px"},children:[Object(f.jsx)(x.I,{slot:"start",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e\u200f\u200f\u200e Wallpaper Color"})}),Object(f.jsx)(x.r,{style:{zIndex:2,height:"150px"},children:Object(f.jsx)("input",{type:"color",value:e.chatBackgroundColor,onChange:function(t){return e.setChatBackgroundColor(t.target.value)}})})]}),Object(f.jsx)(x.r,{style:{height:"80vh"},children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.I,{slot:"start",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e\u200f\u200f\u200e Wallpaper"})}),Object(f.jsxs)(x.m,{children:[Object(f.jsxs)(x.A,{children:[Object(f.jsx)(x.k,{children:Object(f.jsx)(x.o,{icon:I.A,size:"large",onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:""})}),Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/tree-bark.png"})}),Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/type.png"})})]}),Object(f.jsxs)(x.A,{children:[Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/skulls.png"})}),Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/dark-wood.png"})})," ",Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/xv.png"})})]}),Object(f.jsxs)(x.A,{children:[Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/flowers.png"})}),Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/food.png"})}),Object(f.jsx)(x.k,{children:Object(f.jsx)(x.p,{onClick:function(t){return e.setChatBackground(t.currentTarget.src)},src:"https://www.transparenttextures.com/patterns/foggy-birds.png"})})]})]})]})}),Object(f.jsxs)("div",{className:"modalButtons",children:[Object(f.jsx)(x.d,{color:"danger",onClick:function(){localStorage.clear(),window.location.assign("/")},children:"Log out"}),Object(f.jsx)(x.d,{onClick:function(){return e.setModalShow(!1)},children:"Close"})]})]})]})})},M=function(e){var t,c,s,n=Object(j.useState)(!1),i=Object(b.a)(n,2),r=i[0],l=(i[1],S()),a=Object(b.a)(l,2),d=a[0],o=(a[1],Object(x.U)()),h=Object(b.a)(o,2),O=h[0],u=h[1];return Object(f.jsx)(x.l,{children:Object(f.jsxs)(x.v,{isOpen:e.modalShow,cssClass:"settings-modal",backdropDismiss:!1,children:[Object(f.jsx)(x.n,{children:Object(f.jsx)(x.I,{color:"primary",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e\u200f\u200f\u200e Create group"})})}),Object(f.jsx)(x.l,{children:Object(f.jsxs)("div",{className:"modalContainer",style:{width:"100%"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.r,{children:Object(f.jsx)(x.q,{placeholder:"Group Name"})}),Object(f.jsx)(x.B,{onIonChange:function(e){return console.log(e.detail.value)},showCancelButton:"always"}),(null===(t=d.user)||void 0===t?void 0:t.rooms)?null===(c=d.user)||void 0===c||null===(s=c.rooms)||void 0===s?void 0:s.map((function(e,t){var c=e.participants.filter((function(e){return e.userId._id!==d.user._id}))[0].userId,s=c.profilePic,n=c.bio,j=c.username;c.status;return Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)("img",{src:s,alt:"pro-pic"})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:j}),Object(f.jsx)("p",{children:n})]}),Object(f.jsx)(x.j,{slot:"end",checked:r})]})})):Object(f.jsxs)(x.t,{children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]})]})]}),Object(f.jsxs)("div",{className:"modalButtons",children:[Object(f.jsx)(x.d,{color:"tertiary",onClick:function(){return O({position:"top",mode:"ios",color:"tertiary",header:"Group",buttons:[{text:"hide",handler:function(){return u()}}],message:"Group created",onDidDismiss:function(){return console.log("dismissed")},onWillDismiss:function(){return console.log("will dismiss")}})},children:"Create"}),Object(f.jsx)(x.d,{onClick:function(){return e.setModalShow(!1)},children:"Close"})]})]})})]})})},A=y.a.div(B||(B=Object(u.a)(["\n  @media (max-width: 768px) {\n    width: 100vw;\n  }\n  display: flex;\n  flex-direction: column;\n  height: 92%;\n  width: 70vw;\n"]))),P=(y.a.div(N||(N=Object(u.a)(["\n  width: 100%;\n  margin-top: 7.5px;\n  margin-bottom: 7.5px;\n  position: relative;\n  display: block;\n"]))),function(){var e,t,c,s=Object(j.useState)("primary"),n=Object(b.a)(s,2),i=n[0],r=n[1],l=Object(j.useState)(!1),a=Object(b.a)(l,2),h=a[0],O=a[1],u=Object(j.useState)(!1),p=Object(b.a)(u,2),y=p[0],w=p[1],g=Object(j.useState)(""),v=Object(b.a)(g,2),E=v[0],C=v[1],k=Object(j.useState)(),_=Object(b.a)(k,2),D=_[0],B=_[1],N=Object(j.useState)({}),P=Object(b.a)(N,2),F=(P[0],P[1],Object(j.useState)("")),L=Object(b.a)(F,2),U=L[0],K=L[1],z=Object(j.useState)(""),G=Object(b.a)(z,2),q=G[0],W=G[1],H=S(),J=Object(b.a)(H,2),V=J[0],$=(J[1],V.socket),Q=window.location.pathname.split("/")[2],X=function(){var e=Object(o.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),$.emit("SEND_MESSAGE",{text:E,roomId:Q,senderId:null===V||void 0===V||null===(c=V.user)||void 0===c?void 0:c._id}),ee();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=Object(j.useRef)(null),Z=function(){Y.current&&Y.current.scrollToBottom()},ee=function(){var e=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://capstonebe.herokuapp.com/messages/".concat(Q),{withCredentials:!0});case 2:t=e.sent,B(t.data.messages),Z();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(V.actualChat),Object(j.useEffect)((function(){ee(),Z(),null===$||void 0===$||$.on("RECIVE_MESSAGE",(function(e){ee(),Z()}))}),[]),Object(f.jsxs)(x.l,{style:{zIndex:10},children:[Object(f.jsxs)(A,{children:[Object(f.jsx)(x.n,{children:(null===V||void 0===V?void 0:V.actualChat)&&Object(f.jsx)("div",{className:"contact-header",children:Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)("img",{src:V.actualChat.profilePic,alt:""})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h2",{children:V.actualChat.username}),Object(f.jsx)("p",{children:V.actualChat.bio}),Object(f.jsx)("p",{children:V.actualChat.status.presence})]})]})})}),Object(f.jsxs)(x.l,{ref:Y,scrollEvents:!0,style:{zIndex:1,height:"100%",backgroundImage:"url(".concat(U,")"),backgroundColor:"transparent"},children:[null===D||void 0===D?void 0:D.map((function(e){var t,c=e.text,s=e.senderId,n=e.createdAt,j=(e._id,(null===V||void 0===V||null===(t=V.user)||void 0===t?void 0:t._id)===s._id);return Object(f.jsx)("div",{className:j?"right":"left",children:Object(f.jsx)(x.e,{color:j?i:"",style:{borderRadius:j?"15px 0px 15px 15px":"15px 15px 15px 0px"},children:Object(f.jsxs)(x.f,{children:[c,Object(f.jsx)("div",{className:"ion-text-end",children:Object(f.jsx)("span",{children:Object(f.jsx)(T.a,{date:n,format:"HH:mm"})})})]})})})})),Object(f.jsxs)(x.r,{className:"chat-box",style:{height:"50px"},children:[Object(f.jsx)(x.o,{className:"chat-button",color:"primary",slot:"start",icon:I.l}),Object(f.jsx)("div",{className:"chat-container",children:Object(f.jsx)(x.J,{placeholder:"Write some text...",value:E,onIonChange:function(e){return C(e.detail.value)}})}),E.length>0&&Object(f.jsx)(x.o,{onClick:X,className:"chat-button",color:"primary",slot:"end",icon:I.x})]})]})]}),Object(f.jsxs)(x.u,{swipeGesture:!0,side:"end",menuId:"main2",contentId:"content2",children:[Object(f.jsxs)(x.n,{children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.I,{color:"primary",children:"Start a new chat.."}),Object(f.jsx)(x.o,{color:"grey",className:"settings",slot:"start",icon:I.q,onClick:function(){return w(!0)}}),Object(f.jsx)(x.o,{color:"grey",className:"settings",slot:"end",icon:I.y,onClick:function(){return O(!0)}})]}),Object(f.jsx)(R,{messageTheme:i,setMessageTheme:r,setChatBackgroundColor:W,chatBackgroundColor:q,setChatBackground:K,chatBackground:U,modalShow:h,setModalShow:O}),Object(f.jsx)(M,{modalShow:y,setModalShow:w}),(null===(e=V.user)||void 0===e?void 0:e.rooms)?null===(t=V.user)||void 0===t||null===(c=t.rooms)||void 0===c?void 0:c.map((function(e,t){var c=e.participants.filter((function(e){return e.userId._id!==V.user._id}))[0].userId,s=c.profilePic,n=c.bio,j=c.username;c.status;return Object(f.jsx)(x.l,{onClick:function(){},style:{position:"absolute",top:"8vh",height:"90vh"},children:Object(f.jsx)(x.t,{children:Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)("img",{src:s,alt:"pro-pic"})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:j}),Object(f.jsx)("p",{children:n})]})]})})},t)})):Object(f.jsx)(x.l,{style:{position:"absolute",top:"8vh",height:"90vh"},children:Object(f.jsxs)(x.t,{children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]})]})})]}),Object(f.jsx)(x.l,{id:"content2"})]}),Object(f.jsx)(x.z,{id:"main2",style:{backgroundColor:"".concat(q)}})]})}),F=function(e){var t=Object(j.useState)(""),c=Object(b.a)(t,2),s=c[0],n=(c[1],Object(j.useState)("")),i=Object(b.a)(n,2),r=i[0],l=i[1],a=Object(x.U)(),h=Object(b.a)(a,2),O=h[0],u=h[1],p=function(){var t=Object(o.a)(d.a.mark((function t(c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,m.a.post("https://capstonebe.herokuapp.com/contacts",{name:r},{withCredentials:!0});case 3:return t.next=5,m.a.get("https://capstonebe.herokuapp.com/contacts",{withCredentials:!0});case 5:e.setModalShow(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.useEffect)((function(){console.log(s)}),[s]),Object(f.jsx)(x.v,{isOpen:e.modalShow,cssClass:"add-contact-modal",backdropDismiss:!1,children:Object(f.jsx)(x.l,{style:{backgroundColor:"white"},children:Object(f.jsxs)("form",{onSubmit:function(e){return p(e)},children:[Object(f.jsx)(x.n,{children:Object(f.jsx)(x.I,{color:"primary",children:Object(f.jsx)("h1",{children:"\u200f\u200f\u200e\u200f\u200f\u200e\u200f\u200f\u200f\u200f\u200e\u200e\u200e\u200e\u200e \u200e\u200f\u200f\u200e \u200e\u200f\u200f\u200e Add a new contact"})})}),Object(f.jsxs)("div",{className:"modalContainer",style:{width:"100%"},children:[Object(f.jsxs)(x.r,{style:{borderRadius:"10px",marginBottom:"5px",marginRight:"10px",marginLeft:"10px"},children:[Object(f.jsx)(x.s,{children:"Username: "}),Object(f.jsx)(x.q,{value:r,onIonChange:function(e){return l(e.target.value)},type:"text"})]}),Object(f.jsxs)("div",{className:"modalButtons",children:[Object(f.jsx)(x.d,{type:"submit",onClick:function(e){return p(e),O({position:"top",mode:"ios",color:"warning",buttons:[{text:"hide",handler:function(){return u()}}],message:"Contact added successfully",onDidDismiss:function(){return console.log("dismissed")},onWillDismiss:function(){return console.log("will dismiss")}})},children:"Add contact"}),Object(f.jsx)(x.d,{onClick:function(){return e.setModalShow(!1)},children:"Close"})]})]})]})})})},L=function(){var e,t,c,s=S(),n=Object(b.a)(s,2),i=n[0],r=n[1],l=Object(j.useState)(!1),a=Object(b.a)(l,2),d=a[0],o=a[1],O=i.user,u=Object(h.e)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(x.u,{swipeGesture:!0,side:"start",menuId:"main",contentId:"content",children:[Object(f.jsx)("div",{style:{backgroundColor:"black",height:"100vh"},children:Object(f.jsxs)(x.n,{children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)("img",{src:null===O||void 0===O?void 0:O.profilePic,alt:"pro-pic"})}),Object(f.jsx)(x.o,{color:"primary",slot:"end",style:{display:"flex"},onClick:function(){return o(!0)},icon:I.a,size:"large"})]}),Object(f.jsx)(x.r,{children:Object(f.jsx)(x.B,{animated:!0,onIonChange:function(e){var t,c;return null===(t=i.user)||void 0===t||null===(c=t.rooms)||void 0===c?void 0:c.filter((function(t){return t.name===e.detail.value}))}})}),(null===(e=i.user)||void 0===e?void 0:e.rooms)?null===(t=i.user)||void 0===t||null===(c=t.rooms)||void 0===c?void 0:c.map((function(e,t){var c=e.participants.filter((function(e){return e.userId._id!==i.user._id}))[0].userId,s=c.profilePic,n=c.bio,j=c.username;c.status;return Object(f.jsx)(x.l,{style:{position:"absolute",top:"16vh",height:"82vh"},children:Object(f.jsxs)(x.r,{onClick:function(t){u.push("/conversations/".concat(e._id)),r({type:"SET_ACTUAL_CHAT",payload:c})},children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)("img",{src:s,alt:"pro-pic"})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:j}),Object(f.jsx)("p",{children:n})]})]})},t)})):Object(f.jsx)(x.l,{style:{position:"absolute",top:"16vh",height:"82vh"},children:Object(f.jsxs)(x.t,{children:[Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]}),Object(f.jsxs)(x.r,{children:[Object(f.jsx)(x.b,{slot:"start",children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsxs)(x.s,{children:[Object(f.jsx)("h3",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"50%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"80%"}})}),Object(f.jsx)("p",{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"60%"}})})]})]})]})}),Object(f.jsx)(F,{modalShow:d,setModalShow:o})]})}),Object(f.jsx)(x.l,{id:"content"})]}),Object(f.jsx)(x.z,{id:"main"})]})},U=function(){function e(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.detail.complete()}),2e3)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(x.l,{children:[Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,children:Object(f.jsx)(x.x,{})})}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,pullFactor:.5,pullMin:100,pullMax:200,children:Object(f.jsx)(x.x,{})})}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,children:Object(f.jsx)(x.x,{pullingIcon:I.g,pullingText:"Pull to refresh",refreshingSpinner:"circles",refreshingText:"Refreshing..."})})})]})})},K=function(){var e,t,c,s=Object(j.useState)(!1),n=Object(b.a)(s,2),i=n[0],r=n[1],l=S(),a=Object(b.a)(l,2),d=a[0];a[1];function o(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.detail.complete(),r(!i),setTimeout((function(){console.log(d.user),r(!1)}),1e3)}),10)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(x.l,{children:[Object(f.jsxs)(x.l,{children:[Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:o,children:Object(f.jsx)(x.x,{})}),i&&Object(f.jsxs)(x.e,{children:[Object(f.jsxs)(x.g,{children:[Object(f.jsx)(x.b,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.h,{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"100%"}})}),Object(f.jsx)(x.i,{children:Object(f.jsx)(x.E,{animated:!0,style:{width:"100%"}})})]}),Object(f.jsx)(x.f,{children:Object(f.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:Object(f.jsxs)(x.m,{children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]})]})})})]}),!i&&Object(f.jsxs)(x.e,{children:[Object(f.jsxs)(x.g,{children:[Object(f.jsx)(x.b,{children:Object(f.jsx)("img",{src:null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.profilePic,alt:""})}),Object(f.jsx)(x.i,{children:Object(f.jsx)("h1",{children:null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.username})}),Object(f.jsx)(x.h,{children:Object(f.jsx)("h3",{children:null===d||void 0===d||null===(c=d.user)||void 0===c?void 0:c.bio})})]}),Object(f.jsx)(x.f,{children:Object(f.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:Object(f.jsxs)(x.m,{children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(x.K,{children:Object(f.jsx)(x.E,{animated:!0})}),Object(f.jsx)(x.E,{animated:!0})]})]})})})]})]}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:o,pullFactor:.5,pullMin:100,pullMax:200,children:Object(f.jsx)(x.x,{})})}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:o,children:Object(f.jsx)(x.x,{pullingIcon:I.g,pullingText:"Pull to refresh",refreshingSpinner:"circles",refreshingText:"Refreshing..."})})})]})})},z=function(){function e(e){console.log("Begin async operation"),setTimeout((function(){console.log("Async operation has ended"),e.detail.complete()}),2e3)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(x.l,{children:[Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,children:Object(f.jsx)(x.x,{})})}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,pullFactor:.5,pullMin:100,pullMax:200,children:Object(f.jsx)(x.x,{})})}),Object(f.jsx)(x.l,{children:Object(f.jsx)(x.w,{slot:"fixed",onIonRefresh:e,children:Object(f.jsx)(x.x,{pullingIcon:I.g,pullingText:"Pull to refresh",refreshingSpinner:"circles",refreshingText:"Refreshing..."})})})]})})},G=c(101),q=c.n(G),W=function(){var e=q.a.connect("https://capstonebe.herokuapp.com/");return e.on("connect",(function(){console.log(e.id)})),e},H=function(e,t){t.forEach((function(t){return e.emit("JOIN_ROOM",{roomId:t._id})}))},J=function(){var e,t,c=S(),s=Object(b.a)(c,2),n=s[0],i=s[1];return Object(j.useEffect)((function(){var e;(function(){var t=Object(o.a)(d.a.mark((function t(){var c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://capstonebe.herokuapp.com/me",{credentials:"include"});case 3:if(!(c=t.sent).ok){t.next=14;break}return e=W(),i({type:"SET_SOCKET",payload:e}),t.next=9,c.json();case 9:s=t.sent,i({type:"SET_USER",payload:s}),H(e,s.rooms),t.next=15;break;case 14:console.log("Error while fetching user");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:return t.abrupt("return",(function(){e&&e.disconnect()}));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(f.jsx)(x.a,{children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(h.b,{path:"/register",exact:!0,component:E}),Object(f.jsx)(h.b,{path:"/login",exact:!0,component:g}),Object(f.jsxs)(x.H,{children:[Object(f.jsxs)(x.z,{children:[Object(f.jsx)(h.b,{exact:!0,path:"/discover",children:Object(f.jsx)(U,{})}),Object(f.jsx)(h.b,{path:"/following",children:Object(f.jsx)(x.l,{children:Object(f.jsx)(z,{})})}),Object(f.jsx)(h.b,{path:"/conversations/:id",children:Object(f.jsxs)(x.l,{children:[Object(f.jsx)(P,{}),Object(f.jsx)(L,{})]})}),Object(f.jsx)(h.b,{exact:!0,path:"/profile",children:Object(f.jsx)(K,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/",children:Object(f.jsx)(h.a,{to:"/login"})})]}),Object(f.jsxs)(x.F,{slot:"top",children:[Object(f.jsxs)(x.G,{tab:"tab2",href:"/discover",children:[Object(f.jsx)(x.o,{icon:I.s}),Object(f.jsx)(x.c,{color:"danger",children:"112"}),Object(f.jsx)(x.s,{children:"Discover"})]}),Object(f.jsxs)(x.G,{tab:"tab3",href:"/following",children:[Object(f.jsx)(x.o,{icon:I.p}),Object(f.jsx)(x.c,{color:"danger",children:"5"}),Object(f.jsx)(x.s,{children:"Following"})]}),Object(f.jsxs)(x.G,{tab:"tab4",href:"/conversations/".concat(null===n||void 0===n||null===(e=n.user)||void 0===e||null===(t=e.rooms[0])||void 0===t?void 0:t._id),children:[Object(f.jsx)(x.o,{icon:I.d}),Object(f.jsx)(x.c,{color:"danger",children:"999"}),Object(f.jsx)(x.s,{children:"Conversations"})]}),Object(f.jsxs)(x.G,{tab:"tab1",href:"/profile",children:[Object(f.jsx)(x.o,{icon:I.r}),Object(f.jsx)(x.c,{color:"danger",children:"2"}),Object(f.jsx)(x.s,{children:"Profile"})]})]})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=function(e){e&&e instanceof Function&&c.e(58).then(c.bind(null,231)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,j=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),j(e),i(e)}))},$=c(35),Q={user:null,socket:null,actualChat:null};l.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(k,{initialState:Q,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"SET_USER":return Object($.a)(Object($.a)({},e),{},{user:t.payload});case"SET_SOCKET":return Object($.a)(Object($.a)({},e),{},{socket:t.payload});case"SET_ACTUAL_CHAT":return Object($.a)(Object($.a)({},e),{},{actualChat:t.payload});default:return e}},children:Object(f.jsx)(J,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),V()},36:function(e,t,c){}},[[169,3,4]]]);
//# sourceMappingURL=main.36128ffb.chunk.js.map